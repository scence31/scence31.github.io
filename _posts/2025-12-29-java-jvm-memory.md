---
title: "[Java] JVM 메모리 구조: Stack과 Heap"
date: 2025-12-29 10:00:00 +0900
categories: [Backend, Java]
tags: [java, jvm, memory]
---

* JVM<br>
Java Virtual Machine 약자로, 자바 프로그램을 실행하는 가상 머신이다. <br>
OS 상관없이 자바를 실행한다. 직접 메모리를 해제하지 않아도 가비지 컬렉터가 자동으로 메모리를 관리해준다.

* 메모리 구조<br>
Stack 영역과 Heap 영역<br>

| 구분 | **Stack 영역** | **Heap 영역** |
| :--- | :--- | :--- |
| **관리 방식** | 메서드 호출/종료 시 자동 관리 | 가비지 컬렉터가 관리 |
| **저장 데이터** | 기본 타입 변수, 참조 값(주소) | 실제 객체(== 인스턴스), 배열 |
| **메모리 수명** | 메서드 종료 시 즉시 해제 | 참조가 끊긴 후 GC가 동작할 때 해제 |
| **공유 여부** | X(독립적) | O |

* 배열<br>
같은 타입의 값을 나열해서 관리<br>
int[] arr = {1, 2, 3}; // arr 변수는 Stack에 저장, 데이터 {1, 2, 3}은 Heap에 저장됨<br><br>

* 객체<br>
클래스를 통해 생성된 인스턴스<br>
Member m = new Member(); // m 변수는 Stack에, 실제 Member 객체 데이터는 Heap에 생성됨<br><br>

**배열과 객체는 무조건 Heap에 저장, 주소값만 Stack에 저장됨**

이유는?<br>
1. Stack은 크기가 변하는 데이터 담기 어려움 - 컴파일 시점에 크기 정해져야 함<br>
   Heap은 실행 중(Runtime)에 크기가 결정되는 것을 담기 최적화됨(배열, 객체)<br>

2. Heap에 있으면 다른 메서드에서 주소값만 전달받으면 언제든 사용 가능함<br>

3. 메모리를 효율적으로 관리할 수 있음

**자바는 결국 Stack에 있는 주소를 통해 Heap에 있는 실제 데이터에 접근하는 과정**



