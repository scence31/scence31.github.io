<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정규표현식</title>
    <style>
        .area {
            background-color: pink;
            border: 1px solid black;
            height: auto; /*생략시 기본값, 요소 안의 내용에 맞게 세로길이 지정*/
        }
    </style>
</head>
<body>

    <h1>* 정규표현식</h1>

    <p>
        - 정규표현식(REGEX / REGEXP: Regular Expression)
        특정 패턴의 문자열을 찾거나 치환할 때 사용하는 형식의 언어 <br><br>
        
        - 정규표현식을 이용하면 문자열에 대해 특정패턴 또는 조건검사 또는 치환 시
        복잡한 반복문 또는 조건문 없이 간단하게 처리 가능 <br>

        - 자바스크립트 뿐만 아니라 자바나 오라클 등 다른 언어에서도 사용 가능함
        (단, 언어별로 문법이 살짝 다를 수 있음)
    </p>

    <br><hr>

    <h3>- 정규표현식 객체생성 및 정규표현식과 관련된 유용한 메소드들</h3>

    <button onclick="test1();">실행확인</button>

    <div id="area1" class="area"></div>

    <script>
        function test1() {

            // * 정규표현식 객체생성 방법
            // 정규표현식 객체 생성하겠다. == 정규식 변수를 선언하겠다.
            // 검사조건으로 삼고자하는 문자열 또는 특정패턴을 제시

            // 1. RegExp 생성자함수를 이용
            // 2. /패턴 또는 문자열/ 명시적으로 제시
            
            let regExp = new RegExp("script"); // 방법1
            let regExp2 = /script/; // 방법2

            console.log(regExp);
            console.log(regExp2);

            // 비교할 문자열 세팅
            var str1 = 'javascript jquery ajax';
            var str2 = 'java oracle html css';

            /*
                * 정규표현식 관련 유용한 메소드들

                - 정규표현식 메소드는 정규표현식 객체 또는 문자열 객체에서 제공하는 것으로 나눌 수 있음

                1. RegExp 객체(정규표현식 객체)에서 제공하는 메소드들
                > [표현법]
                정규표현식객체명.메소드속성명(문자열);
                
                - 정규식.test(문자열)
                : 문자열에서 정규식값과 일치하는 값이 있다면 true or false 반환

                - 정규식.exec(문자열)
                : 문자열에서 정규식값과 일치하는 값이 있다면 처음 매칭된 문자열을 반환, 없으면 null 반환


                2. String 객체(문자열 객체)에서 제공하는 메소드들
                > [표현법]
                문자열.메소드속성명(정규표현식객체명);

                - 문자열.match(정규식)
                : 문자열에서 정규식값과 일치하는 값을 찾아서 반환

                - 문자열.search(정규식)
                : 문자열에서 정규식값과 일치하는 값의 시작인덱스 값을 반환(0부터 시작), 일치하는 값 없으면 -1 반환

                - 문자열.replace(정규식, 바꿀문자열)
                : 문자열에서 정규식값과 일치하는 첫 번째 부분을 찾아서 바꿀문자열로 변경(치환)해서 반환

                - 문자열.split(정규식)
                : 문자열에서 정규식에 지정된 값을 구분자로 해서 쪼개진 값들이 담겨있는 배열로 반환
            */

            const area1 = document.getElementById("area1");

            // 정규식에서 제공하는 메소드 - test, exec
            area1.innerHTML = 'regExp.test(str1): ' + regExp.test(str1) + "<br>"; // true
            area1.innerHTML += 'regExp.test(str2): ' + regExp.test(str2) + "<br>"; // false
            area1.innerHTML += 'regExp.exec(str1): ' + regExp.exec(str1) + "<br>"; // script
            area1.innerHTML += 'regExp.exec(str2): ' + regExp.exec(str2) + "<br>"; // null

            area1.innerHTML += "<hr>";

            // 문자열 제공 메소드
            area1.innerHTML += 'str1.match(regExp): ' + str1.match(regExp) + "<br>"; // script
            area1.innerHTML += 'str1.search(regExp): ' + str1.search(regExp) + "<br>"; // 4
            area1.innerHTML += 'str2.search(regExp): ' + str1.search(regExp) + "<br>"; // -1
            area1.innerHTML += 'str1.replace(regExp, "스크립트"): ' + str1.replace(regExp, '스크립트') + "<br>";
            area1.innerHTML += 'str1.split(regExp): ' + str1.split(regExp) + "<br>"; // java, jquery ajax

            let arr = atr1.split(regExp);
            // "javascript jQuery ajax"
            // ["java", "jQuery ajax"]

        }
    </script>

    <br><hr>

    <h3>- 메타문자</h3>

    <p>
        메타문자를 통해 정규식으로 검사할 특정패턴을 제시할 수 있다. <br>
        문자열이 해당 정규식으로 제시한 특정 패턴에 만족하는지 test()로 검사하거나
        replace() 이용해서 치환 또한 가능
    </p>

    <button onclick="test2();"></button>

    <div id="area2" class="area"></div>

    <script>
        function test2() {
            var area2 = document.getElementById("area2");

            // 비교할 문자열 셋팅
            let str = "javascript jquery ajax";

            // 메타문자가 없는 경우
            let regExp = /a/;

            area2.innerHTML = "/a/ : " + regExp.test(str) + "<br>";
            area2.innerHTML += "/a/ : " + str.replace(regExp, "(***)") + "<br>";
            // replace는 첫번째 나오는 a만 ***로 치환됨

            area2.innerHTML = "<hr>";
            // 메타문자가 있는 경우
            // 메타문자

            // 1. ^ : 시작을 의미 (CSS 의 속성선택자 중 ^= 이 "시작"의 의미였음)
            regExp = /^j/; // 소문자 j 로 시작하는 경우
            area2.innerHTML += "/^j/ : " + regExp.test(str) + "<br>";
            area2.innerHTML += "/^j/ : " + str.replace(regExp, "(***)") + "<br>";

            area2.innerHTML += "<hr>";

            // 2. [] : [] 내의 문자 중 하나라도 존재할 경우를 의미
            // 그 안의 글자 둘 중 하나
            regExp = /[abc]/;

            // 특정 문자열 중 a 또는 b 또는 c 가 하나라도 존재할 경우
            area2.innerHTML += "/[abc]/ : " + regExp.test(str) + "<br>";
            area2.innerHTML += "/[abc]/ : " + str.replace(regExp, "(***)") + "<br>";

            regExp = /[kh]/;
            area2.innerHTML += "/[kh]/ : " + regExp.test(str) + "<br>";

            area2.innerHTML += "<hr>";
    }
</script>
    
</body>
</html>